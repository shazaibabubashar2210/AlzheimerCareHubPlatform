
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caregiver Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400..800&family=Noto+Nastaliq+Urdu:wght@400..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <style>
        body {
            padding: 0;
            margin: 0;
            overflow-x: hidden;
            background-color: #cfe6dc;
            font-family: "Noto Nastaliq Urdu", serif;
        }

        .logo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #004242;
            color: #fff;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        /*footer Designing*/
        .footer {
        background: #004241;
        padding: 20px 0;
        }

        .footer-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: white;
        color: #004241;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
        }

        ul li a {
        text-decoration: none;
        color: #c3dffa;
        }

        .footer-section {
        margin-left: 10rem;
        }

        * {
        scroll-behavior: smooth;
        }

         /* select box styling */
        .form-select {
            height: 38px;
            font-size: 16px;
            background-color: #cfe6dc !important; /* Apply the background color */
            border: 1px solid #a9d4c0; /* Optional: Match border color */
            color: #000; /* Ensure text is readable */
            box-sizing: border-box;
        }

            /* Optional: Change background on hover & focus */
            .form-select:hover,
            .form-select:focus {
                background-color: #bfe0d0 !important; /* Slightly darker shade */
            }
            .link:hover{
            text-decoration: underline;
            }
    </style>
</head>
@{
    var userEmail = Context.Session.GetString("UserEmail");
}
<body>
    <nav class="navbar navbar-expand-lg" style="color: #ffffff">
        <div class="container-fluid">
            <span class="logo ms-5 me-3">A</span> <a class="navbar-brand brand-logo" asp-controller="Auth" asp-action="CaregiverDashBoard">
                @AlzhCareHub.StringResources.Resource.AlzhCare
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active link" asp-controller="Auth" asp-action="CaregiverDashboard" style="color:#004241;">
                            @AlzhCareHub.StringResources.Resource.Home
                        </a>
                    </li>
                    @if(userEmail==null)
                    {
                        <li class="nav-item">
                            <a href="javascript:void(0);" class="nav-link active link" onclick="showError()" style="color: #004241;">@AlzhCareHub.StringResources.Resource.FindDoctor</a>
                        </li>
                    }
                    else{
                        <li class="nav-item">
                            <a class="nav-link active link" asp-controller="DoctorAppointment" asp-action="DoctorAppointment" style="color: #004241;">@AlzhCareHub.StringResources.Resource.FindDoctor</a>
                        </li>
                    }

                    @if(userEmail==null)
                    {
                        <li class="nav-item">
                            <a href="javascript:void(0);" class="nav-link active link" onclick="showError()" style="color: #004241;">@AlzhCareHub.StringResources.Resource.EducationalResources</a>
                        </li>
                    }
                    else{
                        <li class="nav-item">
                            <a class="nav-link active link" asp-controller="TrainingResources" asp-action="TrainingResources" style="color: #004241;">@AlzhCareHub.StringResources.Resource.EducationalResources</a>
                        </li>
                    }

                    <li class="nav-item">
                        @if (userEmail == null)
                        {
                            <a href="javascript:void(0);" class="nav-link active link" onclick="showError()" style="color: #004241;">
                                @AlzhCareHub.StringResources.Resource.AboutUs_
                            </a>
                        }
                        else
                        {
                            <a asp-controller="AboutUs" asp-action="Index" class="nav-link active link" style="color: #004241;">
                                @AlzhCareHub.StringResources.Resource.AboutUs_
                            </a>
                        }
                    </li>


                    <li class="nav-item">
                        <a class="nav-link active link" asp-controller="Volunteer" asp-action="Volunteer" style="color: #004241;">
                            @AlzhCareHub.StringResources.Resource.Volunteer
                        </a>
                    </li>

                    @if (userEmail == null)
                    {
                        <li class="nav-item">
                            <a href="javascript:void(0);" class="nav-link active link" onclick="showError()" style="color: #004241;">@AlzhCareHub.StringResources.Resource.ContactSupport</a>
                        </li>
                    }
                    else
                    {
                        <li class="nav-item">
                            <a class="nav-link active link" asp-controller="Contact" asp-action="Index" style="color: #004241;">@AlzhCareHub.StringResources.Resource.ContactSupport</a>
                        </li>
                    }


                    @if (!string.IsNullOrEmpty(userEmail))
                    {
                        <a class="nav-link me-5 active link" asp-controller="Auth" asp-action="Logout" style="color: #004241;">
                            @AlzhCareHub.StringResources.Resource.Logout
                        </a>
                    }
                    else
                    {
                        <a class="nav-link me-5 active link" asp-controller="Auth" asp-action="Login" style="color: #004241;">
                            @AlzhCareHub.StringResources.Resource.Login_
                        </a>

                    }

                    <li class="nav-item" style="background-color: #cfe6dc;">
                        <form method="post" asp-controller="Language" asp-action="SetLanguage" class="d-flex me-3">
                            <select name="culture" onchange="this.form.submit()" class="form-select">
                                <option value="en" selected="@((Context.Session.GetString("Culture") == "en") ? "selected" : null)" style="color: #004241;">English</option>
                                <option value="ur" selected="@((Context.Session.GetString("Culture") == "ur") ? "selected" : null)" style="color: #004241;">اردو</option>
                            </select>
                        </form>
                    </li>

                </ul>
            </div>
        </div>
    </nav>


    <div class="container-fluid mt-4">
        @RenderBody()  @* This is required *@
    </div>
    <!-- Footer -->
    <footer class="footer text-center text-lg-start" style="width: 100vw; height: 45vh; color: white; position: relative; background-color: #004241;">
        <div class="container text-center text-md-start">
            <div class="row">
                <div class="col-md-4 col-lg-3">
                    <div class="footer-icon" style="color: #004242; font-size: 24px;">A</div>
                    <h5>@AlzhCareHub.StringResources.Resource.AlzhCare</h5>
                    <p style="color: #c3dffa; font-weight: bold;">@AlzhCareHub.StringResources.Resource.WebSiteFooterText</p>
                </div>

                <div class="col-md-2 col-lg-2 footer-section">
                    <h5>@AlzhCareHub.StringResources.Resource.Home</h5>
                    <ul class="list-unstyled">
                        @if (userEmail == null)
                        {
                            <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.AboutUs_</a></li>
                        }
                        else
                        {
                            <li><a asp-controller="AboutUs" asp-action="Index">@AlzhCareHub.StringResources.Resource.AboutUs_</a></li>
                        }

                        @if (userEmail == null)
                        {
                            <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.Testimonials</a></li>
                        }
                        else
                        {
                            <li><a href="javascript: void(0);">@AlzhCareHub.StringResources.Resource.Testimonials</a></li>
                        }

                        @if (userEmail == null)
                        {
                            <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.FindDoctor</a></li>
                        }
                        else
                        {
                            <li><a asp-controller="DoctorAppointment" asp-action="DoctorAppointment">@AlzhCareHub.StringResources.Resource.FindDoctor</a></li>
                        }

                        @if (userEmail == null)
                        {
                            <li><a href="javascript:void(0);" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.AppsAndGames</a></li>
                        }
                        else
                        {
                            <li><a href="https://poki.com/en/g/brain-test-tricky-puzzles" target="_blank">@AlzhCareHub.StringResources.Resource.AppsAndGames</a></li>
                        }
                    </ul>
                </div>

                <div class="col-md-2 col-lg-2">
                    <h5>@AlzhCareHub.StringResources.Resource.Region</h5>
                    <ul class="list-unstyled">
                        <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.Lahore</a></li>
                        <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.Karachi</a></li>
                        <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.Islamabad</a></li>
                        <li><a href="javascript:void(0)" onclick="alert('Please login to access this page');">@AlzhCareHub.StringResources.Resource.Mulla_Wala</a></li>
                    </ul>
                </div>

                <div class="col-md-2 col-lg-2">
                    <h5>@AlzhCareHub.StringResources.Resource.Help</h5>
                    <ul class="list-unstyled">
                        <li><a href="javascript:void(0)">@AlzhCareHub.StringResources.Resource.HelpCenter</a></li>
                        <li><a href="javascript:void(0)">@AlzhCareHub.StringResources.Resource.ContactSupport</a></li>
                        <li><a href="javascript:void(0)">@AlzhCareHub.StringResources.Resource.Instructions</a></li>
                        <li><a href="javascript:void(0)">@AlzhCareHub.StringResources.Resource.Works</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="px-5 text-center mt-3">
            @AlzhCareHub.StringResources.Resource.Rigths
        </div>
    </footer>
    <div id="chatbot-icon" onclick="toggleChatbot()">
        💬
    </div>

    <!-- Chatbot Box -->
    <div id="chatbot-box">
        <div class="chat-header">Chat with us</div>

        <div id="chatContainer">
            <div class="chat-body" id="chatBody">
                <div class="message received">Welcome at AlzhCare ChatBot! Search about below Questions:</div>
            </div>
            <div id="suggestion-box" style="margin: 8px 12px 0px 12px; max-height: 100px;"></div>
        </div>

        <div class="chat-footer">
            <input type="text" class="form-control" id="chatInput" placeholder="Type your message..." style="width: 100%; margin-bottom: 8px;">
            <button class="helpbtn helpbtnprimary" onclick="sendMessage()">Send</button>
        </div>
    </div>



    <script>
        const availableQuestions = [
            "What is Alzheimer's disease?",
            "What are the common symptoms of Alzheimer's?",
            "What are the stages of Alzheimer's?",
            "What are the early signs of Alzheimer's?",
            "What is the difference between Alzheimer's and dementia?",
            "What treatments are available for Alzheimer's?",
            "How does diet affect Alzheimer's?",
            "Is Alzheimer's genetic?",
            "What are the caregiving strategies for Alzheimer's?",
            "How do you manage memory loss in Alzheimer's?",
            "What are the behavioral changes in Alzheimer's?",
            "What are the treatment goals for each stage?",
            "What are effective support activities for Alzheimer's patients?",
            "How does Alzheimer's affect speech and communication?",
            "What is end-of-life care in Alzheimer's?"
        ];

        function toggleChatbot() {
            const box = document.getElementById("chatbot-box");
            box.style.display = (box.style.display === "none" || box.style.display === "") ? "flex" : "none";
            if (box.style.display === "flex") {
                showSuggestions();
            }
        }

        function sendMessage() {
            const input = document.getElementById("chatInput");
            const message = input.value.trim();
            if (message === "") return;
            input.value = "";
            handleUserMessage(message);
        }

        function handleUserMessage(message) {
            appendMessage("sent", message);
            const typingMessage = appendMessage("received", "typing...");

            setTimeout(() => {
                typingMessage.remove();
                const response = getBotResponse(message);
                appendMessage("received", response);
                setTimeout(showSuggestions, 1000); // Show after response
                setTimeout(showSuggestions, 5000); // Repeat after 5s
            }, 2000);
        }

        function appendMessage(type, text) {
            const messageDiv = document.createElement("div");
            messageDiv.className = `message ${type}`;
            messageDiv.innerText = text;
            const chatBody = document.getElementById("chatBody");
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            return messageDiv;
        }

             function showSuggestions() {
            const suggestionBox = document.getElementById("suggestion-box");
            suggestionBox.innerHTML = "<b>Try one of these:</b><br/>";
            availableQuestions.forEach(q => {
                const questionWrapper = document.createElement("div");
                questionWrapper.style.marginBottom = "8px";

                const span = document.createElement("span");
                span.className = "suggestion";
                span.innerText = q;
                span.style.cursor = "pointer";
                span.style.display = "block";
                span.onclick = () => {
                    // Toggle answer visibility
                    const response = getBotResponse(q);
                            span.onclick = () => {
                if (answerDiv.innerText === "") {
                    answerDiv.innerText = "⏳ Please wait...";
                setTimeout(() => {
                    answerDiv.innerText = getBotResponse(q);
                }, 3000); // Delay answer by 3 seconds
            } else {
                answerDiv.innerText = ""; // Toggle off if already shown
            }
        };

    };

                const answerDiv = document.createElement("div");
                answerDiv.className = "answer";
                answerDiv.style.marginTop = "4px";
                answerDiv.style.paddingLeft = "10px";
                answerDiv.style.color = "#000";
                answerDiv.stylemarginBottom="1rem";
                answerDiv.style.fontSize = "14px";

                questionWrapper.appendChild(span);
                questionWrapper.appendChild(answerDiv);
                suggestionBox.appendChild(questionWrapper);
            });
        }


        function getBotResponse(message) {
            const msg = message.toLowerCase();
            if (msg.includes("what is alzheimer")) {
                return "Alzheimer's is a progressive brain disorder that slowly destroys memory and thinking skills.";
            } else if (msg.includes("common symptoms")) {
                return "Common symptoms include memory loss, confusion, and changes in behavior.";
            } else if (msg.includes("stages of alzheimer")) {
                return "There are three main stages of Alzheimer's: early (mild), moderate, and severe.";
            } else if (msg.includes("early signs")) {
                return "Early signs of Alzheimer's include forgetfulness, confusion, and difficulty with familiar tasks.";
            } else if (msg.includes("difference") || msg.includes("dementia")) {
                return "Alzheimer's is a specific type of dementia. Dementia is a broader term for memory and cognitive decline.";
            } else if (msg.includes("treatment")) {
                return "There's no cure for Alzheimer's, but medications like donepezil and memantine help manage symptoms.";
            } else if (msg.includes("diet") || msg.includes("food")) {
                return "A Mediterranean diet rich in fruits, vegetables, and healthy fats may help brain health.";
            } else if (msg.includes("genetic")) {
                return "Genetics play a significant role. A family history can increase the risk.";
            } else if (msg.includes("caregiving")) {
                return "Caregiving strategies include creating routines, giving clear instructions, and managing stress.";
            } else if (msg.includes("memory loss")) {
                return "Managing memory loss includes using reminders, calendars, and daily structure.";
            } else if (msg.includes("behavior")) {
                return "Behavioral changes can include aggression, confusion, anxiety, and social withdrawal.";
            } else if (msg.includes("goal") && msg.includes("early")) {
                return "Early-stage goals: maintain independence, slow progression, and manage symptoms.";
            } else if (msg.includes("goal") && msg.includes("moderate")) {
                return "Moderate-stage goals: assist with daily tasks, reduce agitation, and ensure safety.";
            } else if (msg.includes("goal") && msg.includes("severe")) {
                return "Severe-stage goals: provide 24/7 care, comfort, and manage physical needs.";
            } else if (msg.includes("speech") || msg.includes("communication")) {
                return "As Alzheimer's progresses, communication becomes difficult. Use short phrases and visual cues.";
            } else if (msg.includes("support activities")) {
                return "Activities like music, light exercise, and puzzles help maintain mood and brain function.";
            } else if (msg.includes("end of life")) {
                return "End-of-life care focuses on comfort, pain management, and caregiver support.";
            } else {
                return "Sorry, I didn't understand. Please try clicking on a suggested question below.";
            }
        }
    </script>

    <style>
        #chatbot-icon {
            position: fixed;
            bottom: 20px;
            right: 30px;
            background-color: #004242;
            border: 3px solid black;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 30px;
            text-align: center;
            line-height: 60px;
            cursor: pointer;
            z-index: 9999;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        #chatbot-box {
            position: fixed;
            bottom: 90px;
            right: 30px;
            width: 350px;
            background: white;
            border-radius: 15px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 9998;
            height: 500px;
        }

        .chat-header {
            background-color: #004242;
            color: white;
            padding: 12px;
            text-align: center;
        }

        .chat-body {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }

        .chat-footer {
            background-color: #f9f9f9;
            padding: 10px;
        }

        .message {
            margin: 5px 0;
            padding: 8px 12px;
            border-radius: 10px;
            max-width: 80%;
            word-wrap: break-word;
        }

            .message.sent {
                align-self: flex-end;
                background-color: #004242;
                color: #fff;
            }

            .message.received {
                align-self: flex-start;
                background-color: #f1f0f0;
            }

        .suggestion {
            padding: 6px 10px;
            background-color: #004242;
            color: #ffffff;
            border-radius: 4px;
            margin: 4px 0;
            transition: background-color 0.3s;
        }

            .suggestion:hover {
                background-color: #003232;
            }


        #chatContainer {
            flex-grow: 1;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

            #chatContainer::-webkit-scrollbar {
                width: 6px;
            }

            #chatContainer::-webkit-scrollbar-thumb {
                background-color: #ccc;
                border-radius: 3px;
            }

            #chatContainer::-webkit-scrollbar-track {
                background-color: transparent;
            }
    </style>
    <script>
        function showError(){
            alert("Please login to access this page");
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    
</body>
</html>  